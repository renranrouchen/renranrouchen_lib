 /*************************************************
* @Copyright(c) 2016-2100.  hwl.  All rights reserved.
* @FileName: ST7567.c
* @Author:   hwl 
* @Description:  ST7567 Driver  function interface
* @Version:
* @History:         
      <author>  <time>      <version >   <desc>
				hwl      18/9/7       1.0     
****************************************************/


#include "M451Series.h"

#include "Event_process.h"
#include "ST7567.H"
#include <stdio.h>
#include "FreeRTOS.h"
#include "task.h"
#include "timers.h"
#include "semphr.h"

#define enable_other_display 0
#define ST7567_Version 1
/*An array of num 0-9 8x16*/
static const char num_8x16[10][16]=
{
/*--  character:  0  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,

/*--  character:  1  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  2  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,

/*--  character:  3  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  4  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,

/*--  character:  5  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  6  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  7  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,

/*--  character:  8  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,

/*--  character:  9  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,	
};

/*An array of ascii_table_8x16*/
static const char ascii_table_8x16[95][16]={

/*--  char:     --*/
/*--  Comic Sans MS12;  Font format:=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

/*--  character:  !  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,

/*--  character:  "  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

/*--  character:  #  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,

/*--  character:  $  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,

/*--  character:  %  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,

/*--  character:  &  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,

/*--  character:  '  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

/*--  character:  (  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,

/*--  character:  )  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,

/*--  character:  *  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,

/*--  character:  +  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,

/*--  character:  ,  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,

/*--  character:  -  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,

/*--  character:  .  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,

/*--  character:  /  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,

/*--  character:  0  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,

/*--  character:  1  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  2  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,

/*--  character:  3  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  4  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,

/*--  character:  5  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  6  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  7  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,

/*--  character:  8  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,

/*--  character:  9  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,

/*--  character:  :  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,

/*--  character:  ;  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,

/*--  character:  <  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,

/*--  character:  =  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,

/*--  character:  >  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,

/*--  character:  ?  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,

/*--  character:  @  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,

/*--  character:  A  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,

/*--  character:  B  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  C  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,

/*--  character:  D  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,

/*--  character:  E  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,

/*--  character:  F  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,

/*--  character:  G  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,

/*--  character:  H  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,

/*--  character:  I  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  J  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,

/*--  character:  K  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,

/*--  character:  L  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,

/*--  character:  M  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,

/*--  character:  N  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,

/*--  character:  O  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,

/*--  character:  P  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,

/*--  character:  Q  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,

/*--  character:  R  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,

/*--  character:  S  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,

/*--  character:  T  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,

/*--  character:  U  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,

/*--  character:  V  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,

/*--  character:  W  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,

/*--  character:  X  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,

/*--  character:  Y  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,

/*--  character:  Z  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,

/*--  character:  [  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,

/*--  character:  \  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,

/*--  character:  ]  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,

/*--  character:  ^  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

/*--  character:  _  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,

/*--  character:  `  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

/*--  character:  a  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,

/*--  character:  b  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  c  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,

/*--  character:  d  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,

/*--  character:  e  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,

/*--  character:  f  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  g  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,

/*--  character:  h  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,

/*--  character:  i  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  j  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,

/*--  character:  k  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,

/*--  character:  l  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  character:  m  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,

/*--  character:  n  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,

/*--  character:  o  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,

/*--  character:  p  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,

/*--  character:  q  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,

/*--  character:  r  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,

/*--  character:  s  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,

/*--  character:  t  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,

/*--  character:  u  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,

/*--  character:  v  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,

/*--  character:  w  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,

/*--  character:  x  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,

/*--  character:  y  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,

/*--  character:  z  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,

/*--  character:  {  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,

/*--  character:  |  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,

/*--  character:  }  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,

/*--  character:  ~  --*/
/*--  Comic Sans MS12;  Font format:WxH=8x16   --*/
0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

};



#if enable_other_display
/*An array of ascii_table_5x8*/
static const char ascii_table_5x8[95][5]={
/*all ASCII list:5x8 dots*/
0x00,0x00,0x00,0x00,0x00,//space
0x00,0x00,0x4f,0x00,0x00,//!
0x00,0x07,0x00,0x07,0x00,//"
0x14,0x7f,0x14,0x7f,0x14,//#
0x24,0x2a,0x7f,0x2a,0x12,//$
0x23,0x13,0x08,0x64,0x62,//%
0x36,0x49,0x55,0x22,0x50,//&
0x00,0x05,0x07,0x00,0x00,//]
0x00,0x1c,0x22,0x41,0x00,//(
0x00,0x41,0x22,0x1c,0x00,//)
0x14,0x08,0x3e,0x08,0x14,//*
0x08,0x08,0x3e,0x08,0x08,//+
0x00,0x50,0x30,0x00,0x00,//,
0x08,0x08,0x08,0x08,0x08,//-
0x00,0x60,0x60,0x00,0x00,//.
0x20,0x10,0x08,0x04,0x02,///
0x3e,0x51,0x49,0x45,0x3e,//0
0x00,0x42,0x7f,0x40,0x00,//1
0x42,0x61,0x51,0x49,0x46,//2
0x21,0x41,0x45,0x4b,0x31,//3
0x18,0x14,0x12,0x7f,0x10,//4
0x27,0x45,0x45,0x45,0x39,//5
0x3c,0x4a,0x49,0x49,0x30,//6
0x01,0x71,0x09,0x05,0x03,//7
0x36,0x49,0x49,0x49,0x36,//8
0x06,0x49,0x49,0x29,0x1e,//9
0x00,0x36,0x36,0x00,0x00,//:
0x00,0x56,0x36,0x00,0x00,//;
0x08,0x14,0x22,0x41,0x00,//<
0x14,0x14,0x14,0x14,0x14,//=
0x00,0x41,0x22,0x14,0x08,//>
0x02,0x01,0x51,0x09,0x06,//?
0x32,0x49,0x79,0x41,0x3e,//@
0x7e,0x11,0x11,0x11,0x7e,//A
0x7f,0x49,0x49,0x49,0x36,//B
0x3e,0x41,0x41,0x41,0x22,//C
0x7f,0x41,0x41,0x22,0x1c,//D
0x7f,0x49,0x49,0x49,0x41,//E
0x7f,0x09,0x09,0x09,0x01,//F
0x3e,0x41,0x49,0x49,0x7a,//G
0x7f,0x08,0x08,0x08,0x7f,//H
0x00,0x41,0x7f,0x41,0x00,//I
0x20,0x40,0x41,0x3f,0x01,//J
0x7f,0x08,0x14,0x22,0x41,//K
0x7f,0x40,0x40,0x40,0x40,//L
0x7f,0x02,0x0c,0x02,0x7f,//M
0x7f,0x04,0x08,0x10,0x7f,//N
0x3e,0x41,0x41,0x41,0x3e,//O
0x7f,0x09,0x09,0x09,0x06,//P
0x3e,0x41,0x51,0x21,0x5e,//Q
0x7f,0x09,0x19,0x29,0x46,//R
0x46,0x49,0x49,0x49,0x31,//S
0x01,0x01,0x7f,0x01,0x01,//T
0x3f,0x40,0x40,0x40,0x3f,//U
0x1f,0x20,0x40,0x20,0x1f,//V
0x3f,0x40,0x38,0x40,0x3f,//W
0x63,0x14,0x08,0x14,0x63,//X
0x07,0x08,0x70,0x08,0x07,//Y
0x61,0x51,0x49,0x45,0x43,//Z
0x00,0x7f,0x41,0x41,0x00,//[
0x02,0x04,0x08,0x10,0x20,//\
0x00,0x41,0x41,0x7f,0x00,//]
0x04,0x02,0x01,0x02,0x04,//^
0x40,0x40,0x40,0x40,0x40,//_
0x01,0x02,0x04,0x00,0x00,//`
0x20,0x54,0x54,0x54,0x78,//a
0x7f,0x48,0x48,0x48,0x30,//b
0x38,0x44,0x44,0x44,0x44,//c
0x30,0x48,0x48,0x48,0x7f,//d
0x38,0x54,0x54,0x54,0x58,//e
0x00,0x08,0x7e,0x09,0x02,//f
0x48,0x54,0x54,0x54,0x3c,//g
0x7f,0x08,0x08,0x08,0x70,//h
0x00,0x00,0x7a,0x00,0x00,//i
0x20,0x40,0x40,0x3d,0x00,//j
0x7f,0x20,0x28,0x44,0x00,//k
0x00,0x41,0x7f,0x40,0x00,//l
0x7c,0x04,0x38,0x04,0x7c,//m
0x7c,0x08,0x04,0x04,0x78,//n
0x38,0x44,0x44,0x44,0x38,//o
0x7c,0x14,0x14,0x14,0x08,//p
0x08,0x14,0x14,0x14,0x7c,//q
0x7c,0x08,0x04,0x04,0x08,//r
0x48,0x54,0x54,0x54,0x24,//s
0x04,0x04,0x3f,0x44,0x24,//t
0x3c,0x40,0x40,0x40,0x3c,//u
0x1c,0x20,0x40,0x20,0x1c,//v
0x3c,0x40,0x30,0x40,0x3c,//w
0x44,0x28,0x10,0x28,0x44,//x
0x04,0x48,0x30,0x08,0x04,//y
0x44,0x64,0x54,0x4c,0x44,//z
0x08,0x36,0x41,0x41,0x00,//{
0x00,0x00,0x77,0x00,0x00,//|
0x00,0x41,0x41,0x36,0x08,//}
0x04,0x02,0x02,0x02,0x01,//~
};

#endif
void delay_us(unsigned short nTimer);void delay_ns(unsigned int nTimer);
/***************************************************** 
 * @Function:  transfer_command
 * @Description:   Write command to LCM(LCD MODULE)
 * @param  data1 
 * @retval void
******************************************************/
void transfer_command(int data1)   
{
	char i;
	cs1=0;
	rs=0;
	for(i=0;i<8;i++)
	{
		sclk=0;
		if(data1&0x80) sid=1;
		else sid=0;
		//delay_us(1);
		delay_ns(3);
		sclk=1;
		data1<<=1;
		delay_ns(3);
		//delay_us(1);
	}
	cs1=1;
}

/***************************************************** 
 * @Function:  transfer_data
 * @Description:   Write data to LCM(LCD MODULE)
 * @param  data1 
 * @retval void
******************************************************/
void transfer_data(int data1)
{
	char i;
	cs1=0;
	rs=1;
	for(i=0;i<8;i++)
	{
		sclk=0;
		if(data1&0x80) sid=1;
		else sid=0;
		//delay(10);
		//delay_us(1);
		delay_ns(3);
		sclk=1;
		data1<<=1;
		//delay_us(1);
		delay_ns(3);
	}
	cs1=1;
}

//Delay
void delay(int i)               
{
 int j,k;
 for(j=0;j<i;j++)
 for(k=0;k<110;k++);
}



/***************************************************** 
 * @Function:  waitkey
 * @Description:   wait a key, there is a key between P2.0 and GND in my mainboard
 * @param  void 
 * @retval void
******************************************************/
void waitkey(void)
{
repeat:	
	if(key==1)
	{
		goto repeat;
	}
	else 
	{
		
		delay(500);
		
	}
	//vTaskDelay( 2000 / portTICK_RATE_MS );
}

/***************************************************** 
 * @Function:  initial_lcd
 * @Description:   initialization to LCM(LCD MODULE)
 * @param  void 
 * @retval void
******************************************************/
void initial_lcd(void)
{
	cs1=0;
	reset=0;        //低电平复位
	delay(100);
	reset=1;		    //复位完毕
	delay(50);        
	transfer_command(0xe2);	 //软复位
	delay(5);
	transfer_command(0x2c);  //升压步骤1
	delay(5);	
	transfer_command(0x2e);  //升压步骤2
	delay(5);
	transfer_command(0x2f);  //升压步骤3
	delay(5);
	//transfer_command(0xA7);  //背景反转
#if ST7567_Version
	transfer_command(0x24);  //粗调对比度，可设置范围0x20~0x27//0x26电源供电才可亮
#else	
	transfer_command(0x26);
#endif	
	transfer_command(0x81);  //微调对比度，
	transfer_command(0x1F);  //0x1a,微调对比度的值，可设置范围0x00~0x3f
	transfer_command(0xa2);  //1/7偏压比(bias)  
	transfer_command(0xc8);  //行扫描顺序：从上到下
	transfer_command(0xa0);  //列扫描顺序：从左到右
	transfer_command(0x40);  //起始行 :第一行开始
	transfer_command(0xaf);  //开显示

}


/***************************************************** 
 * @Function:  lcd_address
 * @Description:   set the page address and column address of LCD
 * @param  page  (cross)
 * @param  column
 * @retval void
******************************************************/
void lcd_address(char page,char column)
{
	cs1=0;
	column=column-1;  							//Because column address is from 0 to 127,so column=column-1
	page=page-1;
	transfer_command(0xb0+page);   				//set page address,LCD panel is divided to 8 pages,1 page is include 8 lines. 
	transfer_command(((column>>4)&0x0f)+0x10);	//set the upper 4 bits of column address
	transfer_command(column&0x0f);				//set the lower 4 bits of column address
}



/***************************************************** 
 * @Function:  clear_screen
 * @Description:   clear lcd screen
 * @param  void
 * @retval void
******************************************************/
void clear_screen()
{
	unsigned char i,j;
 	for(i=0;i<9;i++)
	{
		lcd_address(1+i,1);
		for(j=0;j<132;j++)
		{
			transfer_data(0x00);				//send "0x00" to lcm,clear all dots
		}
	}
}


/***************************************************** 
 * @Function:  full_display
 * @Description:   full display lcd screen
 * @param  data_left
 * @param  data_right
 * @retval void
******************************************************/
#if enable_other_display
//==================display a piture of 128*64 dots================
void full_display(char data_left,char data_right)
{
	int i,j;
	for(i=0;i<4;i++)
	{
		lcd_address(i+1,1);
		for(j=0;j<64;j++)
		{
			transfer_data(data_left);   
			transfer_data(data_right);    			 
		}
	}          
}
#endif


/***************************************************** 
 * @Function:  display_graphic_32x32
 * @Description:   display graphic 32x32 lcd screen
 * @param  page (abscissa)
 * @param  column
 * @param  dp
 * @retval void
******************************************************/
#if enable_other_display
//==================display a piture of 32*32 dots================
void display_graphic_32x32(char page,char column,char *dp)
{
	char i,j;
	for(j=0;j<4;j++)
	{
		lcd_address(page+j,column);
		for (i=0;i<31;i++)
		{	
			transfer_data(*dp);		
			dp++;
		}
	}
}
#endif


/***************************************************** 
 * @Function:  display_graphic_16xn
 * @Description:   display graphic 16xm(cross:16 and column:m) and have n words to lcd screen
 * @param  page (abscissa)
 * @param  column
 * @param  dp
 * @param  n (display n words)
 * @param  m (display Every word of m)
 * @retval void
******************************************************/
void display_graphic_16xn(char page,char column,const char *dp,int n,int m)//n代表多少个字，m代表一个字有多少列
{
	char i,j;

	for(j=0;j<2;j++)
	{
		lcd_address(page+j,column);
		for (i=0;i<n*m;i++)
		{	
			transfer_data(*dp);		
			dp++;
		}
	}	
}

/***************************************************** 
 * @Function:  display_nx16x16
 * @Description:   display graphic 16x16(cross:16 and column:16) and have n words to lcd screen
 * @param  page (abscissa)
 * @param  column
 * @param  dp
 * @param  n (display n words)
 * @retval void
******************************************************/
void display_nx16x16(char page,char column,char n,const char (*dp)[32])
{
	char i = 0;
	char k = 0,l = 0;
	for(i =0; i< n; i ++)
	{
		display_graphic_16x16(page,column+((k++)*16),dp[l++]);
	}
	
}


void display_Chinese_list(char page,char column,const char (*dp)[64],color_type type)
{
	display_graphic_16xn(page,column,dp[type],2,16);
}

/***************************************************** 
 * @Function:  display_graphic_16x16
 * @Description:   display a piture of 16*16 dots
 * @param  page (abscissa)
 * @param  column
 * @param  dp
 * @retval void
******************************************************/
void display_graphic_16x16(char page,char column,const char *dp)
{
	char i,j;
	for(j=0;j<2;j++)
	{
		lcd_address(page+j,column);
		for (i=0;i<16;i++)
		{	
			transfer_data(*dp);		
			dp++;
		}
	}
}


/***************************************************** 
 * @Function:  display_graphic_8x16
 * @Description:   display a piture of 8*16 dots
 * @param  page (abscissa)
 * @param  column
 * @param  dp
 * @retval void
******************************************************/
void display_graphic_8x16(char page,char column,const char *dp)
{
	char i,j;	
	for(j=0;j<2;j++)
	{
		lcd_address(page+j,column);
		for (i=0;i<8;i++)
		{	
			transfer_data(*dp);					
			dp++;
		}
	}
}

/***************************************************** 
 * @Function:  display_string_8x16
 * @Description:   display a string of ASCII character,font style:8*16 dots
 * @param  page (abscissa)
 * @param  column
 * @param  text
 * @retval void
******************************************************/
void display_string_8x16( int  page,int column,const char *text)
{
	char i=0,j,k,n;
	while(text[i]>0x00)
	{	
		if((text[i]>=0x20)&&(text[i]<=0x7e))
		{
			j=text[i]-0x20;
			for(n=0;n<2;n++)
			{			
				lcd_address(page+n,column);
				for(k=0;k<8;k++)
				{
					transfer_data(ascii_table_8x16[j][k+8*n]);
				}
			}
			i++;
			column+=8;
			
		}
		else
		i++;
	}
}

/***************************************************** 
 * @Function:  display_num_8x16
 * @Description:   display a num of  lCM,The scope of 0~9
 * @param  page (abscissa)
 * @param  column
 * @param  num
 * @retval void
******************************************************/
void display_num_8x16(int  page,int column,unsigned char num)
{
	char n = 0 ,k = 0 ;
		for(n=0;n<2;n++)
		{			
			lcd_address(page+n,column);
			for(k=0;k<8;k++)
			{
				transfer_data(num_8x16[num][k+8*n]);
			}
		}	
}

/***************************************************** 
 * @Function:  display_num_string_8x16
 * @Description:   display a num of string lCM,The scope of 0~99999
 * @param  page (abscissa)
 * @param  column
 * @param  num
 * @retval void
******************************************************/
void display_num_string_8x16(int  page,int column,unsigned int num)
{
	if(num<=9)
	{
		display_num_8x16(page,column,num);
	}
	
	if(num<=99 && num>=10)
	{
		display_num_8x16(page,column,num/10);
		display_num_8x16(page,column+8,num%10);
	}
	if(num<=999 && num>=100)
	{
		display_num_8x16(page,column,num/100);
		display_num_8x16(page,column+8,num%100/10);
		display_num_8x16(page,column+16,num%100%10);
	}
	if(num<=9999 && num>=1000)
	{
		display_num_8x16(page,column,num/1000);
		display_num_8x16(page,column+8,num%1000/100);
		display_num_8x16(page,column+16,num%1000%100/10);
		display_num_8x16(page,column+24,num%1000%100%10);
	}
	if(num<=99999 &&num>=10000)
	{
		display_num_8x16(page,column,num/10000);
		display_num_8x16(page,column+8,num%10000/1000);
		display_num_8x16(page,column+16,num%10000%1000/100);
		display_num_8x16(page,column+24,num%10000%1000%100/10);
		display_num_8x16(page,column+32,num%10000%1000%100%10);
	}
}


/***************************************************** 
 * @Function:  display_string_5x8
 * @Description:   display a string of ASCII character,font style:5*8 dots
 * @param  page (abscissa)
 * @param  column
 * @param  text
 * @retval void
******************************************************/
#if enable_other_display
void display_string_5x8( int  page, int  column,char *text)
{
	char i=0,j,k;
	while(text[i]>0x00)
	{	
		if((text[i]>=0x20)&&(text[i]<0x7e))
		{
			j=text[i]-0x20;
			lcd_address(page,column);
			for(k=0;k<5;k++)
			{
				transfer_data(ascii_table_5x8[j][k]);/*??5x7?ASCII??LCD?,y????,x????,?????*/
			}
			i++;
			column+=6;
		}
		else
		i++;
	}
}
#endif

/***************************************************** 
 * @Function:  disp_grap
 * @Description:   display a piture of 128*64 dots
 * @param  dp
 * @retval void
******************************************************/
#if enable_other_display
//==================display a piture of 128*64 dots================
void disp_grap(char *dp)
{
	int i,j;
	for(j=0;j<8;j++)
	{
		lcd_address(1+j,1);
		for(i=0;i<128;i++)
		{
			transfer_data(*dp);    
			dp++;       
		}
	}          
}
#endif
